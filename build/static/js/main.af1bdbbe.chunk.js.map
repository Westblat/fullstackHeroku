{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","create","newObject","post","update","id","put","deleteObject","delete","Filter","filter","setFilter","onChange","e","target","value","PersonForm","setPersons","persons","setErrorMessage","setSuccessMessage","useState","newName","setNewName","newNumber","setNewNumber","type","onClick","preventDefault","find","name","window","confirm","updatedPerson","obj","personsService","number","then","res","copy","data","setTimeout","catch","error","response","Persons","shownNames","map","person","i","App","successMessage","errorMessage","useEffect","includes","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af1bdbbe.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteObject = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\nconst personService = {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    deleteObject: deleteObject,\r\n}\r\n\r\nexport default personService;","import React, { useState, useEffect } from 'react'\nimport personsService from \"./services/persons\";\nimport './app.css'\n\n\nconst Filter = ({filter, setFilter}) => {\n    return (<div>\n        filter shown with <input onChange={(e) => setFilter(e.target.value)}/>\n    </div>)\n}\n\nconst PersonForm =({ setPersons, persons, setErrorMessage, setSuccessMessage}) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    return(\n        <form>\n            <h1> Add new person</h1>\n            <div>\n                name: <input onChange={(e) => setNewName(e.target.value)}/>\n            </div>\n            <div>\n                number: <input onChange={(e) => setNewNumber(e.target.value)}/>\n            </div>\n\n            <div>\n                <button type=\"sumbit\" onClick={(e) => {\n                    e.preventDefault();\n                    if(persons.find(e => e.name === newName)){\n                        if(window.confirm(`User with name ${newName} exists already, do you want to replace old number?`)){\n                            const updatedPerson = persons.filter(obj => obj.name === newName)[0]\n                            personsService.update(updatedPerson.id, {name: newName, number: newNumber})\n                                .then((res) => {\n                                    const copy = persons.filter(obj => obj.id !== updatedPerson.id)\n                                    setPersons([...copy, res.data])\n                                    setSuccessMessage(\"User updated succesfully\")\n                                    setTimeout(() => {\n                                        setSuccessMessage(null)\n                                    }, 5000)\n                                }).catch(error => {\n                                setErrorMessage(error.response.data.error)\n                                    setTimeout(() => {\n                                        setErrorMessage(null)\n                                    }, 5000)\n                            })\n                        }\n                    } else {\n                        personsService.create({name: newName, number: newNumber})\n                            .then(res => {\n                                setPersons([...persons, res.data])\n                                setSuccessMessage(\"User added succesfully\")\n                                setTimeout(() => {\n                                    setSuccessMessage(null)\n                                }, 5000)\n\n                            })\n                            .catch(error => {\n                                setErrorMessage(error.response.data.error)\n                            })\n                    }\n\n                }}>add</button>\n            </div>\n        </form>\n    )\n}\n\nconst Persons = ({shownNames, setPersons, persons, setErrorMessage, setSuccessMessage}) => {\n    return (\n        <div>\n            {shownNames?.map((person, i) => {\n                return (\n                    <div key={i}>\n                        <span>{person.name} {person.number}</span>\n                        <button onClick={(e)=> {\n                            if(window.confirm(`Delete ${person.name} ?`)){\n                                personsService.deleteObject(person.id)\n                                    .then((res) => {\n                                        setPersons(persons.filter(value => value.id !== person.id))\n                                        setSuccessMessage(\"User deleted succesfully\")\n                                        setTimeout(() => {\n                                            setSuccessMessage(null)\n                                        }, 5000)\n\n                                    }).catch(error => {\n                                    setErrorMessage(error.response.data.error)\n                                    setTimeout(() => {\n                                        setErrorMessage(null)\n                                    }, 5000)\n                                })\n                            }\n                        }}>Delete</button>\n                    </div>\n                    )\n            })}\n\n        </div>\n    )\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [filter, setFilter] = useState('')\n    const [successMessage, setSuccessMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(()=>{\n        personsService.getAll()\n            .then(res =>{\n                if (!res.error) {\n                    setPersons(res.data)\n                }\n        })\n    },[])\n\n    const shownNames = persons.filter(person => person.name.includes(filter))\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            {successMessage && <p className='success'>{successMessage}</p>}\n            {errorMessage && <p className='error'>{errorMessage}</p>}\n            <Filter setFilter={setFilter}/>\n            <PersonForm\n                persons={persons}\n                setPersons={setPersons}\n                setErrorMessage={setErrorMessage}\n                setSuccessMessage={setSuccessMessage}\n            />\n        <h2>Numbers</h2>\n            <Persons\n                shownNames={shownNames}\n                persons={persons}\n                setPersons={setPersons}\n                setErrorMessage={setErrorMessage}\n                setSuccessMessage={setSuccessMessage}\n            />\n      </div>\n    )\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}